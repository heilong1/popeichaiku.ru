<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SQLeduc</title>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <div id="maincon">

	  <h1 id="strt">Оглавление.</h1>

      <ol>
        <li><a class="slnk01" href="#chpt01">1 Что это.</a></li>
        <li><a class="slnk01" href="#chpt02">2 Команды.</a></li>
        <li><a class="slnk01" href="#chpt03">3 Выбор данных.</a></li>
        <li><a class="slnk01" href="#chpt04">4 Индексы.</a></li>
        <li><a class="slnk01" href="#chpt05">5 Объединение.</a></li>
        <li><a class="slnk01" href="#chpt06">6 Функции.</a></li>
        <li><a class="slnk01" href="#chpt07">7 </a></li>
        <li><a class="slnk01" href="#chpt08">8 </a></li>
        <li><a class="slnk01" href="#chpt09">9 </a></li>
        <li><a class="slnk01" href="#chpt10">10 </a></li>
        <li><a class="slnk01" href="#chpt100">Для собеседований.</a></li>
        <li><a class="slnk01" href="#endin">Вниз</a></li>
      </ol>

      <hr />
      <!--████████████████████████████-->

      <h1 id="chpt01">Как куда зачем.</h1>

      <p><a href="https://www.youtube.com/watch?v=lapMmGGFS7k&list=PL0lO_mIqDDFVnLvR39VpEtphQ8bPJ-xR9">Ютуб</a> вот по сюдова учим</p>

      <p>MySQL это система управления реляционными базами данных с открытым исходным кодом (СУРБД) с моделью клиент-сервер.
        SQL - язык структурированных запросов.
      </p>
	
      <p>Язык запросов между приложением и базами данных. Для изучения нужно что-то там.</p>

      <p><a href="https://www.mamp.info/ru/downloads/">Мамп</a> делает что-то там.</p>

      <p>Проблема была в мампе, вот примерное решение, 
        LoadModule perl_module modules/mod_perl.so закомментировать с помощью диеза. Файл по адресу MAMP\conf\apache. Прога капризная, не сработала сразу.</p>

      <p>Открывает локально сервер с базами, выбрать phpMyAdmin, и приступить к изучению команд.</p>


      <p>По изучении пхп решил перейти на программу опенсервер, как более 
        функциональную для обоих учебных процессов. В её менюшке есть строка 
        phpMyAdmin, которая запускает локально сайт вирт сервера. root/root для входа. 
        Далее.
      </p>

      

      <hr />
      <!--████████████████████████████-->

      <h1 id="chpt02">Глава 2. Основные команды.</h1>

      <p>В разделе скл пишем командами. Регистр любой, но лучше верхним. Каждую команду завершать 
        точка с запятой. Для последней необязательно. После команды кнопка 
        вперёд. create - создать базу данных. После ввода команды ниже появится её запись со ссылкой 
        на справочники. Drop для удаления. На вкладке структура 
        можно создать таблицу через интерфейс и посмотреть подсказки по контенту, например типы данных.
        Далее. Перейти в базу данных, вкладка скл. create table создать таблицу, в скобках минимум 
        одно поле с типом должно быть. Кнопка вперёд, далее найти слева в меню эту таблицу, открыть 
        структура вкладку, посмотреть, или в обзор. В созданной таблице посмотреть на вкладку вставить. 
        Далее.
      </p>

      <p>Если во время работы производить действия с данными через интерфейс, очень часто или всегда 
        отображаются подсказки или мгновенные логи с запросом SQL, полезно для освоения языка.
      </p>

      <p>Типов данных много, основные сгруппированы вверху. </p>

      <p>CREATE DATABASE name1;</p>

      <p>DROP DATABASE name1;</p>

      <p>CREATE TABLE table1( id INT );</p>

      <p>DROP TABLE table1;</p>

      <img src="img/001.png" alt="">

      <p>
        Создаётся таблица. Четыре поля. Для айди нотналл не позволяет задавать пустое поле, и там 
        авто увеличение значения. Для типа варчар указано количество символов, 255 по умолчанию. 
        Внизу праймери указывает, что айди основной и не может повторяться. После последней строки 
        запятую поставить нельзя.
      </p>
      
      <p><b>Со столбиками.</b></p>
      <p>ALTER TABLE people ADD pasw varchar(32);</p>
      <p>Эта строка для базы в таблицу people добавит новое поле (столбик) pasw.</p>
      <p>ALTER TABLE people DROP COLUMN pasw;</p>
      <p>Соответственно удалит поле.</p>
      <p>ALTER TABLE people CHANGE birth birth DATE NOT NULL</p>
<p>Изменить строку, здесь просто добавили для поля бёрс запрет налла. Перед этим 
  нужно заполнять все строки с наллом, иначе будет ошибка?</p>
      <p><b>Работа со строками таблицы.</b></p>
      <p>INSERT INTO users (name, birth, bio) VALUES('Саша', '2020-05-05', 'Просто чувак')</p>
      <p>INSERT INTO users () Values () вставить пустую строку.</p>
      <p>Поля можно указывать в любом порядке, все сразу можно не 
        использовать, кроме нот-налл полей. Значения по порядку соответственно полям. 
      </p>

      <img src="img/002.png" alt="">
      <p>Множественное добавление дублированием запроса в VALUE.</p>

      <p>UPDATE `users` SET `name` = 'Vova';</p>
      <p>Переписало поле нейм во всех строках. Использование аптострофа необязательно, но 
        рекомендуется. Для нового значения наоборот ошибка, нужны просто кавычки.
      </p>
      <p>UPDATE `users` SET `name` = 'Dima' WHERE id = 3;</p>
      <p>UPDATE `users` SET `name` = 'Dima' WHERE id > 3;</p>
      <p>Переписало нейм для айди 3, </p>
      <p>UPDATE `users` SET `name` = 'Саня!', `bio` = 'Сотку верни!';</p>
      <p>Перезаписало два поля во всех строках. С предыдущим вариантом можно указать конкретную строку или несколько?
        Проверим.
      </p>
      <p>UPDATE `users` SET `name` = 'Вова!' WHERE id = 2 AND id = 3;</p>
      <p>UPDATE `users` SET `name` = 'Вова!' WHERE id = 2 OR id = 3;</p>
      <p>Логическое, WHERE делает проверку, для И перепишет по двум условиям, для ИЛИ по каждому. 
        Не совсем удобная конструкция, может есть лучше. Проверить.
      </p>
      <p>DELETE FROM `test`;</p>
      <p>DELETE FROM `test` WHERE id = 2;</p>
      <p>Удалило все строки из таблицы тест, и строку с полем айди 2.</p>
      <p><b>Прочие</b></p>
      <p>TRUNCATE `test1`; тоже очищает таблицу, строки. Столбцы конечно сохраняются.</p>
      <p>ALTER TABLE `test` ADD date_time DATETIME DEFAULT CURRENT_TIMESTAMP</p>
      <p>При создании таблицы или добавлении поля, задать поле с типом DATETIME, по 
        умолчанию втягивающее текущее время. 
      </p>
      <p>FOREIGN KEY(personId) REFERENCES users(id)</p>
      <p>При создании таблицы, задать поле personId как ссылки, набор индексов на другую таблицу поле айди. 
        Не очень понятно, Будет в главе номер там.
      </p>
      <p>SELECT CONCAT('Имя: ',name,'. Биография ',bio) AS 'Инфо' FROM `users`</p>
      <p>Эта строка клеит два поля вместе, задаёт псевдоним. </p>
      <p></p>
      <p></p>
      <p></p>


      <hr />


      <!--████████████████████████████-->
      <h1 id="chpt03">Глава 3. Выборы where order limit.</h1>

      <p>Табличка по операторам сравнения на видное место. </p>
      <ul>
        <li>=</li>
        <li>&#60;=</li>
        <li>&#62;=</li>
        <li>&#60;, &#62;</li>
        <li>&#60;&#62;</li>
        <li></li>
      </ul>

      

      <p>SELECT * FROM `users` ;</p>
      <p>Выбирает или выводит все строки. Как при нажатии на вкладку обзор.</p>
      <p>SELECT `name`,`bio` FROM `users` ;</p>
      <p>Выведет в окне таблицу по столбцам имени и биографии.</p>
      <p>SELECT `name`,`bio` FROM `users` WHERE id = 3;</p>
      <p>Выведет нужные столбцы у нужных строк.</p>
      <p>SELECT * FROM `users` WHERE 'field1' IS NULL or 'field2' IS NOT NULL</p>
      <p>Выборка через ис вероятно ищет по типу? Хотя нет, тип же задаётся на уровне столбца, 
        значит это сработает только для частных случаев вроде налла.
      </p>
      <p>SELECT DISTINCT name FROM users</p>
      <p>Выдало один столбец по нейму с уникальными значениями, то бишь без отображения дубликатов.</p>

      <p>SELECT * FROM `users` LIMIT 2</p>
      <p>Вывело первые элементы, две штуки. Если передать в лимит Х,У - будут пропущены Х первых 
        строк, и выведены У следующих.
      </p>
      <p>SELECT * FROM `users` WHERE id > 1 ORDER BY `name` LIMIT 3</p>
      <p>Выбрать все столбцы, строки где ид больше 1, сортировать по имени и вывести три штуки. Последовательность 
        where order limit строго соблюдается, независимо от присутствия. Дополнительные атрибуты 
        для ордера уточнить, например сортировка второго уровня или обратная.
      </p>
      <p>ORDER BY `name` DESC</p>
      <p>Такой ордер отобразит наоборот.</p>
      <p>WHERE id BETWEEN 2 AND 5</p>
      <p>Вывод диапазна. Сочетается с остальной логикой, и или. </p>
      <p>SELECT * FROM `users` WHERE id IN(4,3,5) ORDER BY `id` DESC</p>
      <p>Вывело столбцы со строками, у которых айди равен 4,3,5 с сортировкой айди по убыванию. 
        Сам ИН не задаёт порядок, сортировка происходит стандартная. 
      </p>
      <p>SELECT * FROM `users` WHERE `name` LIKE 'Са%'</p>
      <p>Вывести строки, где поле нейм начинается с букв Са. '%ура%' может найти дурака. Вариант 
        с '%урак' ищет все слова, заканчивающиеся на указанное. Обобщённо, процент указывает на 
        положение игнорируемых символов или их присутствие вообще.
      </p>

      <hr />



      <!--████████████████████████████-->
      <h1 id="chpt04">Глава 4. Индексы.</h1>

      <p>CREATE INDEX Xindex ON `users`(name)</p>
      <p>Задать индексацию для поля нейм в таблице. Это не проявляется в пользовательской 
        работе, кроме как ускорением процессов поиска. В интерфейсе наблюдается ключик, и 
        ещё один файл индекса Xindex рядом с PRIMARY.
      </p>
      <p>DROP INDEX Xindex ON `users`</p>
      <p>Удалить его. </p>

      <p>FOREIGN KEY(personId) REFERENCES users(id)</p>
      

      <img src="img/003.png" alt="">
      <p>При создании таблицы, задать поле personId как ссылки, набор индексов на другую таблицу поле айди. 
        Не очень понятно, разобрать. Поле персонид тип инт, содержит простые числа, эти числа указывают на таблицу юзерс строки у поля айди, соответствующие этим числам. Непонятно, почему в подсказке отображается именно title или name, но это может не иметь особенного значения.
      </p>

      
      <hr />


      <!--████████████████████████████-->
      <h1 id="chpt05">Глава 5. Джойны.</h1>

      <img src="img/004.png" alt="">
      <p>Тяжко это идёт. Надо помнить содержимое таблиц, чтобы понять суть объединения. Вот тут по строчкам. Селект четыре поля из трёх таблиц, значит надо склеить все три таблицы. Фром юзеры указать первую таблицу, и вроде порядок не важен, а только условия склеивания. Иннер джойн с какой объединить, Он условие, здесь айди покупателя заказа должно быть равным айди из юзеров. Это означает, что таблица юзеров распределится по номерам заказа, соответствуя своим айди в поле юзерайди таблицы заказов. Затем снова клеим Иннер джойн таблицу шоп, и теперь Он айди товара из шоп распределится по списку заказов, соответствуя айди в заказах. Блин, пока пишу, всё меньше понимаю. Надо ещё понять особенность, что строк в ордере было 5, поэтому лишние юзеры и товары не клеются. Сортировка может произойти рандомно или по первому столбцу, можно использовать ордер в конце. Перед лимитом, если он тоже будет присутствовать.</p>
      
      <img src="img/005.png" alt="">
      
      <p>Возможно, внешнее объединение легче для понимания и начинать надо было с него. А может и нет. Селектим поля, лефт значит слева указанная таблица будет записана полностью, а правая добавлена с пропущенными значениями, если нет связи. Вероятно, если поменять таблицы местами и заменить лефт на райт, то результат не изменится. Если указанная сторона маньше принимаемой, то лишние данные отсекутся.</p>
      


      <hr />


      <!--████████████████████████████-->
      <h1 id="chpt06">Глава 6. Функции, группировки, псевдоним.</h1>

      <p>SELECT COUNT(id) FROM `shop`</p>
      <p>Отдаёт количество элементов. Для любого столбца можно предположить одинаковый результат, если не исключается налл, уточнить.</p>
      <p>SUM(price), MIN(), MAX(), AVG() сумма минимум максимум среднее. Для первого и последнего ответ не предполагает дубликата, но на минимальнм например может быть сразу несколько элементов, уточнить.</p>
      <p>UCASE(name) LCASE(name) регистр текста.</p>
      <p>SELECT `price`, COUNT(price) AS 'Колво' FROM `shop` GROUP BY price</p>
      <p>Из таблицы шоп все дубликаты прайс записываются в одну строку, выводится прайс и подсчитанное количество дублей в столбец псевдоним.</p>
      <p>SELECT `price`, COUNT(price) FROM `shop` GROUP BY price HAVING COUNT(price) > 1</p>
      <p>Хевинг похож на вере, здесь выводятся строки, у которых после группировки значение каунт больше 1. Но как это отличается от вере? Связка с гроуп вероятно.</p>
      <p></p>
      <p></p>
      <p></p>
      <p></p>
      <p></p>
      <p></p>
      <p></p>

      <hr />


      <!--████████████████████████████-->
      <h1 id="chpt07">Глава nohere. 123.</h1>

      <p></p>

      <hr />

      <!--████████████████████████████-->
      <h1 id="chpt08">Глава nohere. 123.</h1>

      <p></p>

      <hr />

      <!--████████████████████████████-->
      <h1 id="chpt09">Глава nohere. 123.</h1>

      <p></p>

      <hr />

      <!--████████████████████████████-->
      <h1 id="chpt10">Глава nohere. 123.</h1>

      <p></p>

      <hr />

      <!--████████████████████████████-->
      <h1 id="chpt11">Глава nohere. 123.</h1>

      <p></p>

      <hr />


      <!--████████████████████████████-->

      <h1 id="chpt100">Глава 100. Собеседование.</h1>

      <img src="img/007.png" alt="">
      <p>Налл видится как неопределённость, незаданность. Поэтому сравнение с неизвестностью не может дать логичного ответа. Вдруг там не то, что не это. </p>
      <img src="img/008.png" alt="">
      <p>Налл близок к типам данных, а для них синтаксис уже с другой логикой.</p>
      <img src="img/009.png" alt="">
      <p>Тут просто.</p>
      <img src="img/010.png" alt="">
      <p>Аппер задаёт верхний регистр, после чего ответа станет два. </p>
      <img src="img/011.png" alt="">
      <p>Внешний должен включить полностью хотя бы одну таблицу, так что слева 3 низ. Если справа будет дубликат значений, он может пропечататься к левому, поэтому край 6.</p>
      <img src="img/012.png" alt="">
      <p>Внутренний ищет совпадения, поэтому их может вообще не быть, или же быть по всей таблице. Так что от 0 до 4.</p>
      <img src="img/013.png" alt="">
      <p>Указан несуществующий элемент поля. Агрегатные функции не могут взаимодейтсовать с наллом, но выдать количество каунтом вполне можно. Поэтому 0 даст только второй ответ.</p>

      <p></p>

      <hr /> 

      <!--████████████████████████████-->
      <a href="#strt" name="endin">В начало документа.</a><br />
	  
	  
	  
	  
    </div>
    <div id="topnav">
	<table class="navtab" width="100%">
          <tr>
            <th><a href="../general.html">База</a></th>
            <th><a href="../../web/konsp.html">123</a></th>
            <th><a href="../../web/csskonsp.html">123</a></th>
            <th><a href="../jasa.html">123</a></th>
          </tr>
        </table>
    </div>

    <script src="app.js"></script>
  </body>
</html>
